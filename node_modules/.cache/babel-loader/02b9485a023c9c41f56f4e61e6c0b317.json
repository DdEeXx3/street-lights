{"ast":null,"code":"var _jsxFileName = \"/Users/bondzioyo/Desktop/HTML_Projects/street-lights/src/components/PredictionRaport.js\";\nimport React from \"react\";\nimport \"../component_scss/PredictionRaport/PredictionRaport.css\"; // import PowerOfLampComponent from \"./PowerOfLampComponent\";\n\nimport NightTime from \"../data/NightTime.json\";\nimport { Bar } from \"react-chartjs-2\"; // import { ResponsiveBar } from '@nivo/bar';\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst groupBy = (items, key) => items.reduce((result, item) => ({ ...result,\n  [item[key]]: [...(result[item[key]] || []), item]\n}), {});\n\nconst PredictionRaport = ({\n  powerOfLamp,\n  numberOfLamp\n}) => {\n  // console.log(powerOfLamp.map);\n  // var czasSwiecenia = NightTime.map((nt) => nt.night_time).reduce(\n  //   (a, b) => a + b,\n  //   0\n  // );\n  var data = NightTime.map(nt => {\n    return {\n      month: nt.month,\n      day: nt.day,\n      powerConsumption: nt.night_time * powerOfLamp * numberOfLamp\n    };\n  }); // console.log(data.map((e) => e.powerConsumption));\n  // console.log(data.map((e) => e.day));\n  // var x = [data.map((e) => e.day), data.map((e) => e.powerConsumption)];\n  // console.log(data);\n  // var x = [Array.from({length: 365}, (_, i) => i + 1), data.map((e) => e.powerConsumption)];\n  // console.log(x);\n  // console.log(data.map((nt) => nt.powerConsumption).reduce(function (a, b) {\n  //     return a + b;\n  //   }, 0));\n  // console.log(groupBy(data, \"month\")[1].map((e) => e.powerConsumption).reduce(function (a, b) {\n  //   return a + b;\n  // }, 0));\n\n  var tablica = [];\n\n  for (var i = 1; i < 365; i++) {\n    tablica[i] = [\"day: \" + i, \"pobranaMoc: \" + data.map(e => e.powerConsumption)[i]];\n  } // console.log(tablica);\n  // export const dataSource = tablica;\n  // console.log(test);\n  // console.log(groupBy(data, 'month')[1]);\n  // console.log(groupBy(test, 'month')[5]);\n  // console.log(groupBy(test, 'month')[5].map(e => e.powerConsumption).reduce(function(a, b) {\n  //   return a+b;\n  // }, 0));\n\n\n  var tab = [];\n  var mostConsumpionMonth = 0;\n  var temporaryVar1 = 0; // var i = 1;\n\n  var miesiac_num = 0;\n\n  for (var j = 1; j <= 12; j++) {\n    // console.log(groupBy(test, 'month')[i].map(e => e.powerConsumption).reduce(function(a, b) {\n    //   return a+b;\n    // }, 0));\n    temporaryVar1 = groupBy(data, \"month\")[j].map(e => e.powerConsumption).reduce(function (a, b) {\n      return a + b;\n    }, 0);\n    tab[j - 1] = temporaryVar1 / 1000;\n\n    if (temporaryVar1 > mostConsumpionMonth) {\n      mostConsumpionMonth = temporaryVar1;\n      miesiac_num = j;\n    }\n  }\n\n  console.log(tab);\n  var miesiac_txt = \"\";\n\n  switch (miesiac_num) {\n    case 1:\n      miesiac_txt = \"Styczeń\";\n      break;\n\n    case 2:\n      miesiac_txt = \"Luty\";\n      break;\n\n    case 3:\n      miesiac_txt = \"Marzec\";\n      break;\n\n    case 4:\n      miesiac_txt = \"Kwiecień\";\n      break;\n\n    case 5:\n      miesiac_txt = \"Maj\";\n      break;\n\n    case 6:\n      miesiac_txt = \"Czerwiec\";\n      break;\n\n    case 7:\n      miesiac_txt = \"Lipiec\";\n      break;\n\n    case 8:\n      miesiac_txt = \"Sierpień\";\n      break;\n\n    case 9:\n      miesiac_txt = \"Wrzesień\";\n      break;\n\n    case 10:\n      miesiac_txt = \"Październik\";\n      break;\n\n    case 11:\n      miesiac_txt = \"Listopad\";\n      break;\n\n    case 12:\n      miesiac_txt = \"Grudzień\";\n      break;\n\n    default:\n      miesiac_txt = `*Miesiąc*`;\n  } //     var lol[i] = groupBy(test, 'month')[5].map(e => e.powerConsumption).reduce(function(a, b) {\n  //       return a+b;\n  //     }, 0)\n  // console.log(lol);\n  // var zuzycie = (czasSwiecenia * powerOfLamp * numberOfLamp) / 1000;\n\n\n  var consumptedPower = data.map(nt => nt.powerConsumption).reduce(function (a, b) {\n    return a + b;\n  }, 0) / 1000;\n  var stawka = 0.4610;\n  var koszt = consumptedPower * stawka;\n  var numberFormat = new Intl.NumberFormat(\"pl\");\n  const data2 = {\n    labels: [\"Styczeń\", 'Luty', 'Marzec', 'Kwiecień', 'Maj', 'Czerwiec', 'Lipiec', 'Sierpień', 'Wrzesień', 'Październik', 'Listopad', 'Grudzień'],\n    datasets: [{\n      label: 'Zuzycie energii',\n      // data: [1288, 19, 3, 5, 2, 3],\n      data: tab,\n      backgroundColor: '#f7e76a98',\n      // backgroundColor: [\n      //   'rgba(255, 99, 132, 0.2)',\n      //   'rgba(54, 162, 235, 0.2)',\n      //   'rgba(255, 206, 86, 0.2)',\n      //   'rgba(75, 192, 192, 0.2)',\n      //   'rgba(153, 102, 255, 0.2)',\n      //   'rgba(255, 159, 64, 0.2)',\n      // ],\n      // borderColor: [\n      //   'rgba(255, 99, 132, 1)',\n      //   'rgba(54, 162, 235, 1)',\n      //   'rgba(255, 206, 86, 1)',\n      //   'rgba(75, 192, 192, 1)',\n      //   'rgba(153, 102, 255, 1)',\n      //   'rgba(255, 159, 64, 1)',\n      // ],\n      borderWidth: 1\n    }]\n  }; // const options = {\n  //   scales: {\n  //     yAxes: [\n  //       {\n  //         ticks: {\n  //           beginAtZero: true,\n  //           suggestedMin: 50,\n  //           suggestedMax: 400\n  //         },\n  //       },\n  //     ],\n  //   },\n  // }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"raportfield\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"header\",\n      children: \"Raport prognozy\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"data\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chart\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"header-chart\",\n          children: \"Prognoza zu\\u017Cycia\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(Bar, {\n            data: data2,\n            options: options,\n            width: 500,\n            height: 300\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 204,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"details\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"header-details\",\n          children: \"Szczeg\\xF3\\u0142owe dane\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"detail1\",\n          children: /*#__PURE__*/_jsxDEV(\"li\", {\n            children: \"Roczny koszt energii dla podanej mocy instalacji:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 212,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"detail1value\",\n          children: numberFormat.format(koszt.toFixed(2))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"detail1unit\",\n          children: \"z\\u0142\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"detail2\",\n          children: /*#__PURE__*/_jsxDEV(\"li\", {\n            children: \"Roczne zu\\u017Cycie energii:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"detail2value\",\n          children: numberFormat.format(consumptedPower.toFixed(3))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"detail2unit\",\n          children: \"kWh\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"detail3\",\n          children: /*#__PURE__*/_jsxDEV(\"li\", {\n            children: \"Najwy\\u017Csze zak\\u0142adane zu\\u017Cycie przypada na miesi\\u0105c:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 228,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"detail3month\",\n          children: miesiac_txt\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"detail4\",\n          children: /*#__PURE__*/_jsxDEV(\"li\", {\n            children: \"W tym miesi\\u0105cu zu\\u017Cycie wynosi:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 233,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"detail4value\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            children: numberFormat.format((mostConsumpionMonth / 1000).toFixed(3))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 236,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"detail4unit\",\n          children: \"kWh\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 198,\n    columnNumber: 5\n  }, this);\n};\n\n_c = PredictionRaport;\nexport default PredictionRaport;\n\nvar _c;\n\n$RefreshReg$(_c, \"PredictionRaport\");","map":{"version":3,"sources":["/Users/bondzioyo/Desktop/HTML_Projects/street-lights/src/components/PredictionRaport.js"],"names":["React","NightTime","Bar","groupBy","items","key","reduce","result","item","PredictionRaport","powerOfLamp","numberOfLamp","data","map","nt","month","day","powerConsumption","night_time","tablica","i","e","tab","mostConsumpionMonth","temporaryVar1","miesiac_num","j","a","b","console","log","miesiac_txt","consumptedPower","stawka","koszt","numberFormat","Intl","NumberFormat","data2","labels","datasets","label","backgroundColor","borderWidth","options","format","toFixed"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport \"../component_scss/PredictionRaport/PredictionRaport.css\";\n// import PowerOfLampComponent from \"./PowerOfLampComponent\";\nimport NightTime from \"../data/NightTime.json\";\n\nimport { Bar } from \"react-chartjs-2\";\n// import { ResponsiveBar } from '@nivo/bar';\n\nconst groupBy = (items, key) =>\n  items.reduce(\n    (result, item) => ({\n      ...result,\n      [item[key]]: [...(result[item[key]] || []), item],\n    }),\n    {}\n  );\n\nconst PredictionRaport = ({ powerOfLamp, numberOfLamp }) => {\n  // console.log(powerOfLamp.map);\n\n  // var czasSwiecenia = NightTime.map((nt) => nt.night_time).reduce(\n  //   (a, b) => a + b,\n  //   0\n  // );\n\n  var data = NightTime.map((nt) => {\n    return {\n      month: nt.month,\n      day: nt.day,\n      powerConsumption: nt.night_time * powerOfLamp * numberOfLamp,\n    };\n  });\n\n  // console.log(data.map((e) => e.powerConsumption));\n  // console.log(data.map((e) => e.day));\n  // var x = [data.map((e) => e.day), data.map((e) => e.powerConsumption)];\n  // console.log(data);\n  // var x = [Array.from({length: 365}, (_, i) => i + 1), data.map((e) => e.powerConsumption)];\n\n  // console.log(x);\n\n  // console.log(data.map((nt) => nt.powerConsumption).reduce(function (a, b) {\n  //     return a + b;\n  //   }, 0));\n\n  // console.log(groupBy(data, \"month\")[1].map((e) => e.powerConsumption).reduce(function (a, b) {\n  //   return a + b;\n  // }, 0));\n  var tablica = [];\n  for (var i = 1; i < 365; i++) {\n    tablica[i] = [\n      \"day: \" + i,\n      \"pobranaMoc: \" + data.map((e) => e.powerConsumption)[i],\n    ];\n  }\n  // console.log(tablica);\n  // export const dataSource = tablica;\n\n  // console.log(test);\n  // console.log(groupBy(data, 'month')[1]);\n  // console.log(groupBy(test, 'month')[5]);\n  // console.log(groupBy(test, 'month')[5].map(e => e.powerConsumption).reduce(function(a, b) {\n  //   return a+b;\n  // }, 0));\n  var tab =[];\n  var mostConsumpionMonth = 0;\n  var temporaryVar1 = 0;\n  // var i = 1;\n  var miesiac_num = 0;\n  for (var j = 1; j <= 12; j++) {\n    // console.log(groupBy(test, 'month')[i].map(e => e.powerConsumption).reduce(function(a, b) {\n    //   return a+b;\n    // }, 0));\n    temporaryVar1 = groupBy(data, \"month\")\n      [j].map((e) => e.powerConsumption)\n      .reduce(function (a, b) {\n        return a + b;\n      }, 0);\n      tab[j-1] = temporaryVar1/1000;\n\n    if (temporaryVar1 > mostConsumpionMonth) {\n      mostConsumpionMonth = temporaryVar1;\n      miesiac_num = j;\n    }\n  }\n\nconsole.log(tab);\n\n  var miesiac_txt = \"\";\n  switch (miesiac_num) {\n    case 1:\n      miesiac_txt = \"Styczeń\";\n      break;\n    case 2:\n      miesiac_txt = \"Luty\";\n      break;\n    case 3:\n      miesiac_txt = \"Marzec\";\n      break;\n    case 4:\n      miesiac_txt = \"Kwiecień\";\n      break;\n    case 5:\n      miesiac_txt = \"Maj\";\n      break;\n    case 6:\n      miesiac_txt = \"Czerwiec\";\n      break;\n    case 7:\n      miesiac_txt = \"Lipiec\";\n      break;\n    case 8:\n      miesiac_txt = \"Sierpień\";\n      break;\n    case 9:\n      miesiac_txt = \"Wrzesień\";\n      break;\n    case 10:\n      miesiac_txt = \"Październik\";\n      break;\n    case 11:\n      miesiac_txt = \"Listopad\";\n      break;\n    case 12:\n      miesiac_txt = \"Grudzień\";\n      break;\n    default:\n      miesiac_txt = `*Miesiąc*`;\n  }\n\n  //     var lol[i] = groupBy(test, 'month')[5].map(e => e.powerConsumption).reduce(function(a, b) {\n  //       return a+b;\n  //     }, 0)\n  // console.log(lol);\n\n  // var zuzycie = (czasSwiecenia * powerOfLamp * numberOfLamp) / 1000;\n\n  var consumptedPower =\n    data\n      .map((nt) => nt.powerConsumption)\n      .reduce(function (a, b) {\n        return a + b;\n      }, 0) / 1000;\n\n  var stawka = 0.4610;\n\n  var koszt = consumptedPower * stawka;\n\n  var numberFormat = new Intl.NumberFormat(\"pl\");\n\n  const data2 = {\n    labels: [\"Styczeń\", 'Luty', 'Marzec', 'Kwiecień', 'Maj', 'Czerwiec', 'Lipiec', 'Sierpień', 'Wrzesień', 'Październik', 'Listopad', 'Grudzień'],\n    datasets: [\n      {\n        label: 'Zuzycie energii', \n        // data: [1288, 19, 3, 5, 2, 3],\n        data: tab,\n        backgroundColor: '#f7e76a98',\n        // backgroundColor: [\n        //   'rgba(255, 99, 132, 0.2)',\n        //   'rgba(54, 162, 235, 0.2)',\n        //   'rgba(255, 206, 86, 0.2)',\n        //   'rgba(75, 192, 192, 0.2)',\n        //   'rgba(153, 102, 255, 0.2)',\n        //   'rgba(255, 159, 64, 0.2)',\n        // ],\n        // borderColor: [\n        //   'rgba(255, 99, 132, 1)',\n        //   'rgba(54, 162, 235, 1)',\n        //   'rgba(255, 206, 86, 1)',\n        //   'rgba(75, 192, 192, 1)',\n        //   'rgba(153, 102, 255, 1)',\n        //   'rgba(255, 159, 64, 1)',\n        // ],\n        borderWidth: 1,\n      },\n    ],\n  }\n  \n  // const options = {\n  \n  //   scales: {\n  //     yAxes: [\n  //       {\n  //         ticks: {\n  //           beginAtZero: true,\n  //           suggestedMin: 50,\n  //           suggestedMax: 400\n  //         },\n  //       },\n  //     ],\n  //   },\n    \n    \n  // }\n\n  return (\n    <div className=\"raportfield\">\n      <div className=\"header\">Raport prognozy</div>\n      <div className=\"data\">\n        <div className=\"chart\">\n          <h1 className=\"header-chart\">Prognoza zużycia</h1>\n          <div>\n          <Bar data={data2} options={options} width={500}\n    height={300}/>\n          </div>\n        </div>\n        <div className=\"details\">\n          <h1 className=\"header-details\">Szczegółowe dane</h1>\n          {/* DETAIL 1 */}\n          <div className=\"detail1\">\n            <li>Roczny koszt energii dla podanej mocy instalacji:</li>\n          </div>\n          <div className=\"detail1value\">\n            {numberFormat.format(koszt.toFixed(2))}\n          </div>\n          <div className=\"detail1unit\">zł</div>\n          {/* DETAIL 2 */}\n          <div className=\"detail2\">\n            <li>Roczne zużycie energii:</li>\n          </div>\n          <div className=\"detail2value\">\n            {numberFormat.format(consumptedPower.toFixed(3))}\n          </div>\n          <div className=\"detail2unit\">kWh</div>\n          {/* DETAIL 3 */}\n          <div className=\"detail3\">\n            <li>Najwyższe zakładane zużycie przypada na miesiąc:</li>\n          </div>\n          <div className=\"detail3month\">{miesiac_txt}</div>\n          {/* DETAIL 4 */}\n          <div className=\"detail4\">\n            <li>W tym miesiącu zużycie wynosi:</li>\n          </div>\n          <div className=\"detail4value\">\n            <div>\n              {numberFormat.format((mostConsumpionMonth / 1000).toFixed(3))}\n            </div>\n          </div>\n          <div className=\"detail4unit\">kWh</div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default PredictionRaport;\n"]},"metadata":{},"sourceType":"module"}